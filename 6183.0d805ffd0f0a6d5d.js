"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6183],{6183:(Ne,y,s)=>{s.r(y),s.d(y,{TerminalTabModule:()=>qe,createTranslateLoader:()=>I});var a=s(5679),p=s(6895),d=s(4006),G=s(529),f=s(4032),A=s(9832),b=s(4737),c=s(5861),_=s(3563),g=(()=>{return(i=g||(g={}))[i.ASCII=0]="ASCII",i[i.HEX=1]="HEX",g;var i})(),e=s(8274),T=s(9058);function k(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-item",4),e.NdJ("click",function(){const l=e.CHM(n).$implicit,u=e.oxw();return e.KtG(u.encodingselected(l))}),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-radio",5),e.qZA()}if(2&i){const n=r.$implicit;e.xp6(2),e.Oqu(n),e.xp6(1),e.s9C("value",n)}}let M=(()=>{class i{constructor(n){this.modalCtrl=n,this.encodingtypes=Object.keys(g).map(t=>g[t]).filter(t=>"string"==typeof t)}ngOnInit(){}encodingselected(n){return this.modalCtrl.dismiss(g[n],"confirm")}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(T.IN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-select-encoding"]],decls:7,vars:5,consts:[[1,"inner-content"],["tabindex","0"],[3,"ngModel","ngModelChange"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-list",1)(5,"ion-radio-group",2),e.NdJ("ngModelChange",function(l){return t.selectedencoding=l}),e.YNc(6,k,4,2,"ion-item",3),e.qZA()()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,3,"SelectEncoding.selectencoding")),e.xp6(3),e.Q6J("ngModel",t.selectedencoding),e.xp6(1),e.Q6J("ngForOf",t.encodingtypes))},dependencies:[a.Ie,a.Q$,a.q_,a.B7,a.se,a.U5,a.QI,p.sg,d.JJ,d.On,f.X$]}),i})();function q(i){return String.fromCharCode.apply(null,new Uint8Array(i)).replace(/[^\x20-\x7E]/g,"\u2610")}var x=s(8656),Q=s(344),R=s(740),h=(()=>{return(i=h||(h={}))[i.NoPull=0]="NoPull",i[i.PullDown=1]="PullDown",i[i.PullUp=2]="PullUp",h;var i})(),v=(()=>{return(i=v||(v={}))[i.Low=0]="Low",i[i.High=1]="High",v;var i})(),m=s(5153),Z=s(7560);const L=["pintypeselect"],D=["pwmperiod"];function S(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-segment-button",18),e.NdJ("click",function(){const l=e.CHM(n).$implicit,u=e.oxw();return e.KtG(u.pinchanged(l.key))}),e.TgZ(1,"ion-label",19),e._uU(2),e.qZA()()}if(2&i){const n=r.$implicit;e.s9C("value",n.key),e.xp6(2),e.Oqu(n.value.getPinName())}}function H(i,r){1&i&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ConfigGPIO.pintypeselection.pwm")))}function Y(i,r){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-row",8)(2,"ion-radio-group",21),e.NdJ("ionChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.inputTypeChanged(o))}),e.TgZ(3,"ion-radio",22),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"ion-radio",23),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"ion-radio",24),e._uU(12),e.ALo(13,"translate"),e.qZA()()(),e.BQk()}if(2&i){const n=e.oxw();e.xp6(2),e.s9C("value",n.inputPinTypes[n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinConfigValue().getUint8(0)]),e.xp6(2),e.Oqu(e.lcZ(5,4,"ConfigGPIO.input.nopull")),e.xp6(4),e.Oqu(e.lcZ(9,6,"ConfigGPIO.input.pulldown")),e.xp6(4),e.Oqu(e.lcZ(13,8,"ConfigGPIO.input.pullup"))}}function F(i,r){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-row",8)(2,"ion-radio-group",21),e.NdJ("ionChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.outputTypeChanged(o))}),e.TgZ(3,"ion-radio",25),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"ion-radio",26),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&i){const n=e.oxw();e.xp6(2),e.s9C("value",n.outputPinTypes[n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinConfigValue().getUint8(0)]),e.xp6(2),e.Oqu(e.lcZ(5,3,"ConfigGPIO.output.low")),e.xp6(4),e.Oqu(e.lcZ(9,5,"ConfigGPIO.output.high"))}}function E(i,r){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-row",8)(2,"ion-input",27,28),e.NdJ("ionInput",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.onpwmPeriodInput(o))})("ionChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.onpwmPeriodChange(o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-row",29)(6,"ion-range",30),e.NdJ("ionChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.pwmRatioChanged(o))}),e.TgZ(7,"div",31),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&i){const n=e.oxw();e.xp6(2),e.s9C("value",n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinConfigValue().getUint16(0)),e.s9C("label",e.lcZ(4,6,"ConfigGPIO.pwm.period")),e.xp6(4),e.s9C("value",100*n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinConfigValue().getUint8(2)/254),e.Q6J("pin",!0)("pinFormatter",n.pwmRatioformatter),e.xp6(2),e.Oqu(e.lcZ(9,8,"ConfigGPIO.pwm.ratio"))}}let K=(()=>{class i{constructor(n,t,o){this.ble=n,this.modalCtrl=t,this.ngZone=o,this.pinTypes=m.l,this.inputPinTypes=h,this.outputPinTypes=v}ngOnInit(){var n=this;this.device=this.ble.connectedDevices.get(this.id),this.gpio=this.device.getGPIO(),this.selectedpin=String(this.gpio.getGPIOPins().keys().next().value),this.gpio.resetTempGPIOPins(Array.from(this.gpio.getTempGPIOPins().values())),this.datareceivedsubscription=this.device.getDataReceivedSubject().subscribe((0,c.Z)(function*(){n.ngZone.run(()=>{n.select.value=m.l[n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinType()]})}))}ionViewWillLeave(){this.datareceivedsubscription&&(this.datareceivedsubscription.unsubscribe(),this.datareceivedsubscription=void 0)}readpinconfig(){var n=this;return(0,c.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatreadpinconfiguration())})()}writeallpinconfig(){var n=this;return(0,c.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatwritepinconfiguration(Array.from(n.gpio.getTempGPIOPins().values())))})()}writepinconfig(){var n=this;return(0,c.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatwritepinconfiguration([n.gpio.getTempGPIOPins().get(+n.selectedpin)]))})()}pinchanged(n){this.ngZone.run(()=>{this.select.value=m.l[this.gpio.getTempGPIOPins().get(n).getPinType()]})}pinTypeChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).setPinType(m.l[n.detail.value]),this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint32(0,0),this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinType()==m.l.PWM&&this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint16(0,1)}backclicked(){return this.modalCtrl.dismiss("confirm")}pwmRatioformatter(n){return`${n}%`}pwmRatioChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint8(2,254*n.detail.value/100)}inputTypeChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint8(0,h[n.detail.value])}outputTypeChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint8(0,v[n.detail.value])}onpwmPeriodInput(n){let o=n.detail.value.replace(/[^0-9]+/g,"");this.pwmperiod.value=o}onpwmPeriodChange(n){let t=+n.detail.value;t<=1?(this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint16(0,1),this.pwmperiod.value=1):t>=500?(this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint16(0,500),this.pwmperiod.value=500):this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint16(0,t)}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(Z.xH),e.Y36(T.IN),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-config-gpio"]],viewQuery:function(n,t){if(1&n&&(e.Gf(L,5),e.Gf(D,5)),2&n){let o;e.iGM(o=e.CRH())&&(t.select=o.first),e.iGM(o=e.CRH())&&(t.pwmperiod=o.first)}},decls:44,vars:35,consts:[[1,"inner-content"],[1,"scanheader"],[1,"ion-align-items-center"],[1,"ion-margin-vertical"],[1,"ion-text-right"],["size","small",3,"click"],[3,"scrollable","ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[1,"ion-margin-top"],["interface","popover",3,"value","ionChange"],["pintypeselect",""],["value","NoConfiguration"],["value","Input"],["value","Output"],["value","PWM",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["size","auto",1,"ion-text-left","ion-align-self-end"],[3,"value","click"],[1,"pinlabel"],["value","PWM"],[3,"value","ionChange"],["labelPlacement","end","value","NoPull"],["labelPlacement","end","value","PullDown"],["labelPlacement","end","value","PullUp"],["labelPlacement","end","value","Low"],["labelPlacement","end","value","High"],["inputmode","numeric","placeholder","<1-500> ms",3,"value","label","ionInput","ionChange"],["pwmperiod",""],[1,"ion-margin-end","ion-margin-top"],[3,"pin","pinFormatter","value","ionChange"],["slot","label",2,"margin-right","10px !important"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"ion-grid",1)(2,"ion-row",2)(3,"ion-col")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col",4)(8,"ion-button",5),e.NdJ("click",function(){return t.readpinconfig()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.TgZ(11,"ion-segment",6),e.NdJ("ngModelChange",function(l){return t.selectedpin=l}),e.YNc(12,S,3,2,"ion-segment-button",7),e.ALo(13,"keyvalue"),e.qZA(),e.TgZ(14,"ion-grid")(15,"ion-row",8)(16,"ion-select",9,10),e.NdJ("ionChange",function(l){return t.pinTypeChanged(l)}),e.TgZ(18,"ion-select-option",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"ion-select-option",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"ion-select-option",13),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.YNc(27,H,3,3,"ion-select-option",14),e.qZA()(),e.ynx(28,15),e.YNc(29,Y,14,10,"ng-container",16),e.YNc(30,F,10,7,"ng-container",16),e.YNc(31,E,10,10,"ng-container",16),e.BQk(),e.TgZ(32,"ion-row",8)(33,"ion-col",17)(34,"ion-button",5),e.NdJ("click",function(){return t.backclicked()}),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"ion-col",4)(38,"ion-button",5),e.NdJ("click",function(){return t.writepinconfig()}),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"ion-button",5),e.NdJ("click",function(){return t.writeallpinconfig()}),e._uU(42),e.ALo(43,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,17,"ConfigGPIO.configgpio")),e.xp6(4),e.Oqu(e.lcZ(10,19,"ConfigGPIO.readconfig")),e.xp6(2),e.Q6J("scrollable",!0)("ngModel",t.selectedpin),e.xp6(1),e.Q6J("ngForOf",e.lcZ(13,21,t.gpio.getGPIOPins())),e.xp6(4),e.s9C("value",t.pinTypes[t.gpio.getTempGPIOPins().get(+t.selectedpin).getPinType()]),e.xp6(3),e.Oqu(e.lcZ(20,23,"ConfigGPIO.pintypeselection.noconfiguration")),e.xp6(3),e.Oqu(e.lcZ(23,25,"ConfigGPIO.pintypeselection.input")),e.xp6(3),e.Oqu(e.lcZ(26,27,"ConfigGPIO.pintypeselection.output")),e.xp6(2),e.Q6J("ngIf",1==t.gpio.getTempGPIOPins().get(+t.selectedpin).getPWMSupport()),e.xp6(1),e.Q6J("ngSwitch",t.pinTypes[t.gpio.getTempGPIOPins().get(+t.selectedpin).getPinType()]),e.xp6(1),e.Q6J("ngSwitchCase","Input"),e.xp6(1),e.Q6J("ngSwitchCase","Output"),e.xp6(1),e.Q6J("ngSwitchCase","PWM"),e.xp6(4),e.Oqu(e.lcZ(36,29,"ConfigGPIO.back")),e.xp6(4),e.Oqu(e.lcZ(40,31,"ConfigGPIO.configpin")),e.xp6(3),e.Oqu(e.lcZ(43,33,"ConfigGPIO.configallpins")))},dependencies:[a.YG,a.wI,a.jY,a.pK,a.Q$,a.B7,a.se,a.I_,a.Nd,a.cJ,a.GO,a.t9,a.n0,a.U5,a.QI,a.j9,p.sg,p.O5,p.RF,p.n9,d.JJ,d.On,p.Nd,f.X$],styles:["ion-segment-button[_ngcontent-%COMP%]{text-transform:none;max-width:none!important}ion-radio-group[_ngcontent-%COMP%]{line-height:32px}ion-range[_ngcontent-%COMP%]{padding-top:0!important}ion-input[_ngcontent-%COMP%]{--padding: 0px}ion-range[_ngcontent-%COMP%]::part(pin){display:inline-flex;align-items:center;justify-content:center;border-radius:50%;transform:scale(1);top:0px;width:34px;height:34px}ion-range[_ngcontent-%COMP%]::part(knob){visibility:hidden}ion-range[_ngcontent-%COMP%]::part(pin):before{content:none}.pinlabel[_ngcontent-%COMP%]{font-weight:600}"]}),i})();var O=s(6078);function B(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-segment-button",14),e.NdJ("click",function(){const l=e.CHM(n).$implicit,u=e.oxw();return e.KtG(u.pinchanged(l.key))}),e.TgZ(1,"ion-label",15),e._uU(2),e.qZA()()}if(2&i){const n=r.$implicit;e.s9C("value",n.key),e.xp6(2),e.Oqu(n.value.getPinName())}}function W(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-row",16)(6,"ion-radio-group",17)(7,"ion-radio",18),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()),2&i){const n=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"RWGPIO.input.input")),e.xp6(3),e.s9C("value",n.outputPinTypes[n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinValue().getUint8(0)]),e.xp6(2),e.Oqu(e.lcZ(9,5,"RWGPIO.input."+n.outputPinTypes[n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinValue().getUint8(0)]))}}function V(i,r){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-row",16)(6,"ion-toggle",19),e.NdJ("ionChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.outputToggleChanged(o))}),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.BQk()}if(2&i){const n=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"RWGPIO.output.output")),e.xp6(3),e.Q6J("checked","High"==n.outputPinTypes[n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinValue().getUint8(0)]),e.xp6(1),e.Oqu(e.lcZ(8,5,"RWGPIO.output."+n.outputPinTypes[n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinValue().getUint8(0)]))}}function z(i,r){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-row",20)(6,"ion-range",21),e.NdJ("ionChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.pwmRatioChanged(o))}),e.TgZ(7,"div",22),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&i){const n=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,5,"RWGPIO.pwm.pwm")),e.xp6(3),e.s9C("value",100*n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinValue().getUint8(0)/254),e.Q6J("pin",!0)("pinFormatter",n.pwmRatioformatter),e.xp6(2),e.Oqu(e.lcZ(9,7,"RWGPIO.pwm.ratio"))}}function j(i,r){1&i&&(e.ynx(0),e.TgZ(1,"ion-row",23)(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.BQk()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"RWGPIO.noconfiguration")))}let $=(()=>{class i{constructor(n,t,o){this.ble=n,this.modalCtrl=t,this.ngZone=o,this.pinTypes=m.l,this.inputPinTypes=h,this.outputPinTypes=v,this.isPinConfigured=!1}ngOnInit(){var n=this;this.device=this.ble.connectedDevices.get(this.id),this.gpio=this.device.getGPIO(),this.selectedpin=String(this.gpio.getGPIOPins().keys().next().value),this.gpio.resetTempGPIOPins(Array.from(this.gpio.getTempGPIOPins().values())),this.isPinConfigured=0!=Array.from(this.gpio.getTempGPIOPins().values()).filter(t=>1==t.getIsConfigured()).length,this.datareceivedsubscription=this.device.getDataReceivedSubject().subscribe((0,c.Z)(function*(){n.ngZone.run(()=>{})}))}ionViewWillLeave(){this.datareceivedsubscription&&(this.datareceivedsubscription.unsubscribe(),this.datareceivedsubscription=void 0)}readpinvalues(){var n=this;return(0,c.Z)(function*(){let t=Array.from(n.gpio.getTempGPIOPins().values()).filter(o=>1==o.getIsConfigured());yield n.ble.senddataunformatted(n.id,n.device.formatreadpinvalues(t))})()}readpinvalue(){var n=this;return(0,c.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatreadpinvalues([n.gpio.getTempGPIOPins().get(+n.selectedpin)]))})()}writeallpinconfig(){var n=this;return(0,c.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatwritepinvalues(Array.from(n.gpio.getTempGPIOPins().values())))})()}writepinconfig(){var n=this;return(0,c.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatwritepinvalues([n.gpio.getTempGPIOPins().get(+n.selectedpin)]))})()}pinchanged(n){}backclicked(){return this.modalCtrl.dismiss("confirm")}pwmRatioformatter(n){return`${n}%`}pwmRatioChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinValue().setUint8(0,254*n.detail.value/100)}outputToggleChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinValue().setUint8(0,n.detail.checked?1:0)}canReadPin(){return this.gpio.getTempGPIOPins().get(+this.selectedpin).getIsConfigured()}canWritePin(){return this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinType()==m.l.Output||this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinType()==m.l.PWM}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(Z.xH),e.Y36(T.IN),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rw-gpio"]],decls:35,vars:31,consts:[[1,"inner-content"],[1,"scanheader"],[1,"ion-align-items-center"],[1,"ion-margin-vertical"],[1,"ion-text-right"],["size","small",3,"disabled","click"],[3,"scrollable","ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[1,"ion-margin-top"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["size","auto",1,"ion-text-left","ion-align-self-end"],["size","small",3,"click"],[3,"value","click"],[1,"pinlabel"],[1,"ion-margin-top","ion-justify-content-center"],[2,"pointer-events","none",3,"value"],["value","High"],[3,"checked","ionChange"],[1,"ion-margin-end","ion-margin-top"],[3,"pin","pinFormatter","value","ionChange"],["slot","label",2,"margin-right","10px !important"],[1,"ion-justify-content-center"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"ion-grid",1)(2,"ion-row",2)(3,"ion-col")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col",4)(8,"ion-button",5),e.NdJ("click",function(){return t.readpinvalues()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.TgZ(11,"ion-segment",6),e.NdJ("ngModelChange",function(l){return t.selectedpin=l}),e.YNc(12,B,3,2,"ion-segment-button",7),e.ALo(13,"keyvalue"),e.qZA(),e.TgZ(14,"ion-grid",8),e.ynx(15,9),e.YNc(16,W,10,7,"ng-container",10),e.YNc(17,V,9,7,"ng-container",10),e.YNc(18,z,10,9,"ng-container",10),e.YNc(19,j,5,3,"ng-container",11),e.BQk(),e.TgZ(20,"ion-row",8)(21,"ion-col",12)(22,"ion-button",13),e.NdJ("click",function(){return t.backclicked()}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"ion-col",4)(26,"ion-button",5),e.NdJ("click",function(){return t.readpinvalue()}),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"ion-button",5),e.NdJ("click",function(){return t.writepinconfig()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"ion-button",5),e.NdJ("click",function(){return t.writeallpinconfig()}),e._uU(33),e.ALo(34,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,17,"RWGPIO.rwgpio")),e.xp6(3),e.Q6J("disabled",!t.isPinConfigured),e.xp6(1),e.Oqu(e.lcZ(10,19,"RWGPIO.readallpins")),e.xp6(2),e.Q6J("scrollable",!0)("ngModel",t.selectedpin),e.xp6(1),e.Q6J("ngForOf",e.lcZ(13,21,t.gpio.getGPIOPins())),e.xp6(3),e.Q6J("ngSwitch",t.pinTypes[t.gpio.getTempGPIOPins().get(+t.selectedpin).getPinType()]),e.xp6(1),e.Q6J("ngSwitchCase","Input"),e.xp6(1),e.Q6J("ngSwitchCase","Output"),e.xp6(1),e.Q6J("ngSwitchCase","PWM"),e.xp6(5),e.Oqu(e.lcZ(24,23,"RWGPIO.back")),e.xp6(3),e.Q6J("disabled",!t.canReadPin()),e.xp6(1),e.Oqu(e.lcZ(28,25,"RWGPIO.readpin")),e.xp6(2),e.Q6J("disabled",!t.canWritePin()),e.xp6(1),e.Oqu(e.lcZ(31,27,"RWGPIO.writepin")),e.xp6(2),e.Q6J("disabled",!t.isPinConfigured),e.xp6(1),e.Oqu(e.lcZ(34,29,"RWGPIO.writeallpins")))},dependencies:[a.YG,a.wI,a.jY,a.Q$,a.B7,a.se,a.I_,a.Nd,a.cJ,a.GO,a.ho,a.w,a.U5,a.QI,p.sg,p.RF,p.n9,p.ED,d.JJ,d.On,p.Nd,f.X$],styles:["ion-segment-button[_ngcontent-%COMP%]{text-transform:none;max-width:none!important}ion-range[_ngcontent-%COMP%]{padding-top:0!important}ion-range[_ngcontent-%COMP%]::part(pin){display:inline-flex;align-items:center;justify-content:center;border-radius:50%;transform:scale(1);top:0px;width:34px;height:34px}ion-range[_ngcontent-%COMP%]::part(knob){visibility:hidden}ion-range[_ngcontent-%COMP%]::part(pin):before{content:none}.pinlabel[_ngcontent-%COMP%]{font-weight:600}"]}),i})();const X=["terminalpopover"],ee=["devicepopover"],ne=["requestconnectionpopover"],te=["ioncontent"],ie=["filterselect"],oe=["payloadinput"],le=["sendcountinput"],ae=["txintervalinput"];function re(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-buttons",12)(1,"ion-button",13),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.disconnectclick())}),e._UZ(2,"ion-icon",14),e.qZA(),e.TgZ(3,"ion-button",13),e.NdJ("click",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.terminalpopoverclick(o))}),e._UZ(4,"ion-icon",15),e.qZA()()}}function ce(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-segment-button",25),e.NdJ("click",function(){const l=e.CHM(n).$implicit,u=e.oxw(2);return e.KtG(u.segmentClicked(l.key))}),e.TgZ(1,"ion-label",26),e._uU(2),e._UZ(3,"br"),e._uU(4),e.qZA()()}if(2&i){const n=r.$implicit;e.s9C("value",n.key),e.xp6(2),e.Oqu(n.value.getDeviceName()),e.xp6(2),e.Oqu(n.key)}}function se(i,r){1&i&&(e.TgZ(0,"ion-select-option",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TerminalTab.filters.RemoteCommand")))}function pe(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-col",28)(1,"ion-button",29),e.NdJ("click",function(o){e.CHM(n);const l=e.oxw(2);return e.KtG(l.devicepopoverclick(o))}),e._UZ(2,"ion-icon",30),e.qZA()()}}function ge(i,r){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-segment",16),e.NdJ("ngModelChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.id=o)}),e.YNc(2,ce,5,3,"ion-segment-button",17),e.ALo(3,"keyvalue"),e.qZA(),e.TgZ(4,"ion-grid")(5,"ion-row",18)(6,"ion-col")(7,"ion-select",19,20),e.NdJ("ngModelChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.selectedfilters=o)})("ionChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.filterTypeChanged(o))}),e.TgZ(9,"ion-select-option",21),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ion-select-option",22),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,se,3,3,"ion-select-option",23),e.qZA()(),e.YNc(16,pe,3,0,"ion-col",24),e.qZA()(),e.BQk()}if(2&i){const n=e.oxw();e.xp6(1),e.Q6J("scrollable",!0)("ngModel",n.id),e.xp6(1),e.Q6J("ngForOf",e.lcZ(3,9,n.ble.connectedDevices)),e.xp6(5),e.Q6J("multiple",!0)("ngModel",n.selectedfilters),e.xp6(3),e.Oqu(e.lcZ(11,11,"TerminalTab.filters.Info")),e.xp6(3),e.Oqu(e.lcZ(14,13,"TerminalTab.filters.Data")),e.xp6(2),e.Q6J("ngIf",n.ble.connectedDevices.get(n.id).getRemoteCommandSupport()),e.xp6(1),e.Q6J("ngIf",1==n.ble.connectedDevices.get(n.id).getGPIOSupport()||null!=n.ble.connectedDevices.get(n.id).getMTUSize()||1!=n.platform.is("desktop"))}}function ue(i,r){1&i&&(e.TgZ(0,"div",31)(1,"ion-label",32),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"TerminalTab.nodeviceconnected")))}function _e(i,r){if(1&i&&(e.TgZ(0,"ion-row",42),e._uU(1),e.qZA()),2&i){const n=e.oxw(2).$implicit,t=e.oxw(3);e.xp6(1),e.hij(" ",t.BufferToHex(n.getMsgData())," ")}}function de(i,r){if(1&i&&(e.TgZ(0,"ion-row",43),e._uU(1),e.qZA()),2&i){const n=e.oxw(2).$implicit,t=e.oxw(3);e.xp6(1),e.hij(" ",t.BufferToAscii(n.getMsgData())," ")}}function me(i,r){if(1&i&&(e.ynx(0,39),e.YNc(1,_e,2,1,"ion-row",40),e.YNc(2,de,2,1,"ion-row",41),e.BQk()),2&i){const n=e.oxw(4);e.Q6J("ngSwitch",n.selectedencoding),e.xp6(1),e.Q6J("ngSwitchCase","HEX"),e.xp6(1),e.Q6J("ngSwitchCase","ASCII")}}function fe(i,r){if(1&i&&(e.TgZ(0,"ion-row",42),e._uU(1),e.qZA()),2&i){const n=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.hij(" ",t.BufferToHex(n.getMsgData())," ")}}function Te(i,r){if(1&i&&(e.TgZ(0,"ion-row")(1,"ion-col",34),e._uU(2),e.qZA(),e.TgZ(3,"ion-col",35)(4,"ion-grid",36)(5,"ion-row"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,me,3,3,"ng-container",37),e.YNc(9,fe,2,1,"ion-row",38),e.qZA()()()),2&i){const n=r.$implicit,t=e.oxw(3);e.xp6(2),e.hij(" ",n.getTimestampString()," "),e.xp6(1),e.Q6J("ngClass",t.getmsgclass(n)),e.xp6(3),e.hij(" ",e.xi3(7,5,n.getMsgInfo(),n.getMsgInfoParameters())," "),e.xp6(2),e.Q6J("ngIf",n.getType()==t.LogMessageType.DataSent||n.getType()==t.LogMessageType.DataReceived),e.xp6(1),e.Q6J("ngIf",n.getType()!=t.LogMessageType.DataSent&&n.getType()!=t.LogMessageType.DataReceived)}}function he(i,r){if(1&i&&(e.TgZ(0,"ion-grid"),e.YNc(1,Te,10,8,"ion-row",33),e.qZA()),2&i){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.ble.connectedDevices.get(n.id).getLogMessages(n.selectedfiltersenum))}}function ve(i,r){1&i&&(e.TgZ(0,"div",31)(1,"ion-label",32),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"TerminalTab.nologmsgs")))}function Ce(i,r){if(1&i&&(e.ynx(0),e.YNc(1,he,2,1,"ion-grid",3),e.YNc(2,ve,4,3,"div",5),e.BQk()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",0!=n.ble.connectedDevices.get(n.id).getLogMessages(n.selectedfiltersenum).length),e.xp6(1),e.Q6J("ngIf",0==n.ble.connectedDevices.get(n.id).getLogMessages(n.selectedfiltersenum).length)}}function be(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-col",48)(1,"ion-item-group")(2,"ion-item",36)(3,"ion-input",50,51),e.NdJ("ionInput",function(o){e.CHM(n);const l=e.oxw(2);return e.KtG(l.onSendCountInput(o))})("ionChange",function(o){e.CHM(n);const l=e.oxw(2);return e.KtG(l.onSendCountChange(o))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"ion-item",36)(7,"ion-input",52,53),e.NdJ("ionInput",function(o){e.CHM(n);const l=e.oxw(2);return e.KtG(l.onTXIntervalInput(o))})("ionChange",function(o){e.CHM(n);const l=e.oxw(2);return e.KtG(l.onTXIntervalChange(o))}),e.ALo(9,"translate"),e.qZA()()()()}if(2&i){const n=e.oxw(2);e.xp6(3),e.s9C("label",e.lcZ(5,4,"TerminalTab.sendcount")),e.Q6J("value",n.sendCount),e.xp6(4),e.s9C("label",e.lcZ(9,6,"TerminalTab.txinterval")),e.Q6J("value",n.txInterval)}}function xe(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-footer")(1,"ion-grid")(2,"ion-row",18)(3,"ion-col",44)(4,"ion-input",45,46),e.NdJ("ionInput",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.onPayloadInput(o))})("keyup.enter",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.sendclick())})("ionChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.updatepayload(o))}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"ion-label")(8,"small"),e._uU(9),e.qZA()()(),e.YNc(10,be,10,8,"ion-col",47),e.TgZ(11,"ion-col",48)(12,"ion-button",49),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.sendclick())}),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()()}if(2&i){const n=e.oxw();e.xp6(4),e.hYB("placeholder","",e.lcZ(6,7,"TerminalTab.payload")," (",n.selectedencoding,")"),e.Q6J("value",n.payload),e.xp6(5),e.hij(" ",n.payloadCount," Bytes "),e.xp6(1),e.Q6J("ngIf",n.multiplepackets),e.xp6(2),e.Q6J("disabled",n.ble.connectedDevices.get(n.id).isSending()),e.xp6(1),e.hij(" ",e.lcZ(14,9,"TerminalTab.send")," ")}}function Ze(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-content")(1,"ion-list",36)(2,"ion-item",54),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.selectencodingclicked())}),e.TgZ(3,"ion-label",55),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"ion-item")(7,"ion-label",56),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"ion-checkbox",57),e.NdJ("ngModelChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.sendtoall=o)}),e.qZA()(),e.TgZ(11,"ion-item",58)(12,"ion-label",56),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"ion-checkbox",57),e.NdJ("ngModelChange",function(o){e.CHM(n);const l=e.oxw();return e.KtG(l.multiplepackets=o)}),e.qZA()()()()}if(2&i){const n=e.oxw();e.xp6(2),e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(5,6,"TerminalTab.terminalpopover.selectencoding")),e.xp6(4),e.Oqu(e.lcZ(9,8,"TerminalTab.terminalpopover.sendtoalldevices")),e.xp6(2),e.Q6J("ngModel",n.sendtoall),e.xp6(3),e.Oqu(e.lcZ(14,10,"TerminalTab.terminalpopover.multiplepacketsend")),e.xp6(2),e.Q6J("ngModel",n.multiplepackets)}}function Pe(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return e.KtG(o.configgpioclicked())}),e.TgZ(1,"ion-label",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.gpioconfig")))}function we(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return e.KtG(o.rwgpioclicked())}),e.TgZ(1,"ion-label",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.gpioreadwrite")))}function ye(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return e.KtG(o.connectionprioritypopoverclick())}),e.TgZ(1,"ion-label",60),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.requestconnectionpriority")))}function Oe(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return e.KtG(o.readmtu())}),e.TgZ(1,"ion-label",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.readmtu")))}function Ie(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return e.KtG(o.readrssi())}),e.TgZ(1,"ion-label",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.readrssi")))}function Ge(i,r){if(1&i&&(e.TgZ(0,"ion-content")(1,"ion-list",36),e.YNc(2,Pe,4,4,"ion-item",59),e.YNc(3,we,4,4,"ion-item",59),e.YNc(4,ye,4,4,"ion-item",59),e.YNc(5,Oe,4,4,"ion-item",59),e.YNc(6,Ie,4,4,"ion-item",59),e.qZA()()),2&i){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",1==n.ble.connectedDevices.get(n.id).getGPIOSupport()),e.xp6(1),e.Q6J("ngIf",1==n.ble.connectedDevices.get(n.id).getGPIOSupport()),e.xp6(1),e.Q6J("ngIf",1==n.platform.is("android")),e.xp6(1),e.Q6J("ngIf",null!=n.ble.connectedDevices.get(n.id).getMTUSize()),e.xp6(1),e.Q6J("ngIf",1!=n.platform.is("desktop"))}}function Ae(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"ion-content")(1,"ion-list",36)(2,"ion-item",54),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.requestconnectionpriority("CONNECTION_PRIORITY_HIGH"))}),e.TgZ(3,"ion-label",55),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"ion-item",54),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.requestconnectionpriority("CONNECTION_PRIORITY_BALANCED"))}),e.TgZ(7,"ion-label",55),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"ion-item",61),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.requestconnectionpriority("CONNECTION_PRIORITY_LOW_POWER"))}),e.TgZ(11,"ion-label",55),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}2&i&&(e.xp6(2),e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(5,6,"TerminalTab.requestconnectionpopover.high")),e.xp6(2),e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(9,8,"TerminalTab.requestconnectionpopover.balanced")),e.xp6(2),e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(13,10,"TerminalTab.requestconnectionpopover.low")))}const ke=[{path:"",component:(()=>{class i{constructor(n,t,o,l,u,C,P,Je){this.route=n,this.platform=t,this.router=o,this.ble=l,this.ngZone=u,this.modalCtrl=C,this.toastController=P,this.translateService=Je,this.id=null,this.terminalpopoveropen=!1,this.msgfilterskeys=Object.keys(_.f).map(w=>_.f[w]).filter(w=>"string"==typeof w),this.msgfilters=_.f,this.selectedfilters=["Info","Data","RemoteCommand"],this.selectedfiltersenum=[],this.devicepopoveropen=!1,this.connectionprioritypopoveropen=!1,this.payload=void 0,this.selectedencoding=g[g.ASCII],this.sendtoall=!1,this.multiplepackets=!1,this.payloadCount=0,this.sendCount=1,this.txInterval=1e3,this.BufferToHex=x.iK,this.BufferToAscii=q,this.ConnectionPriority=O.W6,this.LogMessageType=_.f}ngOnInit(){var n=this;return(0,c.Z)(function*(){n.platform.keyboardDidShow.subscribe(t=>{setTimeout(()=>{n.content.scrollToBottom(0)},20)}),n.platform.keyboardDidHide.subscribe(t=>{setTimeout(()=>{n.content.scrollToBottom(0)},20)}),n.translateService.onLangChange.subscribe(()=>{let t=[];for(let o of n.selectedfilters)t.push("TerminalTab.filters."+o);n.translateService.get(t).subscribe(function(){var o=(0,c.Z)(function*(l){if(null!=n.filterselect){n.filterselect.selectedText="";for(let u in l)n.filterselect.selectedText+=`${l[u]}, `;n.filterselect.selectedText=n.filterselect.selectedText.slice(0,-2)}});return function(l){return o.apply(this,arguments)}}())}),n.route.queryParamMap.subscribe(function(){var t=(0,c.Z)(function*(o){let l=o.get("deviceid");null!=l&&n.ble.connectedDevices.has(l)&&(n.id=l,n.msgloggedsubscription&&n.msgloggedsubscription.unsubscribe(),n.msgloggedsubscription=n.ble.connectedDevices.get(n.id).getLoggerDataLoggedSubject().subscribe((0,c.Z)(function*(){n.ngZone.run(()=>{}),setTimeout(()=>{n.content.scrollToBottom(0)},20)})),setTimeout(()=>{n.content.scrollToBottom(0)},20))});return function(o){return t.apply(this,arguments)}}())})()}ionViewWillEnter(){var n=this;this.disconnectsubscription=this.ble.onDeviceDisconnected.subscribe(function(){var t=(0,c.Z)(function*(o){if(0==n.ble.connectedDevices.size)n.selectedfilters=["Info","Data","RemoteCommand"],n.selectedfiltersenum=[],n.sendCount=1,n.txInterval=1e3,n.router.navigate(["/tabs/scan"]);else{let l=Array.from(new Map([...n.ble.connectedDevices.entries()].sort((C,P)=>C[0].localeCompare(P[0]))).keys()),u=l.findIndex(C=>C.localeCompare(o)>0);n.router.navigate([],-1==u?{queryParams:{deviceid:l[l.length-1]},queryParamsHandling:"merge"}:{queryParams:{deviceid:l[u]},queryParamsHandling:"merge"})}});return function(o){return t.apply(this,arguments)}}())}ionViewWillLeave(){this.msgloggedsubscription&&(this.msgloggedsubscription.unsubscribe(),this.msgloggedsubscription=void 0),this.disconnectsubscription.unsubscribe(),this.disconnectsubscription=void 0}disconnectclick(){var n=this;return(0,c.Z)(function*(){Q.N.production||n.id!=R.y.deviceId?yield n.ble.disconnect(n.id):(n.ble.connectedDevices.delete(n.id),n.ble.onDeviceDisconnected.next(n.id))})()}segmentClicked(n){this.router.navigate([],{queryParams:{deviceid:n},queryParamsHandling:"merge"})}terminalpopoverclick(n){this.terminalpopover.event=n,this.terminalpopoveropen=!0}devicepopoverclick(n){this.devicepopover.event=n,this.requestconnectionpopover.event=n,this.devicepopoveropen=!0}connectionprioritypopoverclick(){this.connectionprioritypopoveropen=!0}updatepayload(n){this.payload=n.detail.value}sendclick(){var n=this;return(0,c.Z)(function*(){n.payloadinput.setFocus();try{if(n.payload&&0!=n.payload.length){var t;switch(g[n.selectedencoding]){default:case g.ASCII:if(!function N(i){return/^[\x20-\x7E]*$/.test(i)}(n.payload))throw new Error("ParserMessages.ASCIIError");t=new DataView(function J(i){return Uint8Array.from(i,r=>r.charCodeAt(0)).buffer}(n.payload));break;case g.HEX:if(!(0,x.A5)(n.payload))throw new Error("ParserMessages.HEXError");t=new DataView((0,x.Zy)(n.payload.replace(/ /g,"")))}n.payload="",n.payloadinput.value="",n.payloadCounter();try{yield n.ble.senddata(n.sendtoall?void 0:n.id,t,n.multiplepackets?n.sendCount:1,n.multiplepackets?n.txInterval:0)}catch(o){console.log(o)}setTimeout(()=>{n.content.scrollToBottom(0)},20)}}catch(o){n.translateService.get(o.message).subscribe(function(){var l=(0,c.Z)(function*(u){(yield n.toastController.create({message:u,duration:500,position:"bottom",cssClass:"toastwidth"})).present()});return function(u){return l.apply(this,arguments)}}())}})()}filterTypeChanged(n){var t=this;return(0,c.Z)(function*(){let o=n.detail.value;t.filterselect.selectedText=void 0,t.selectedfiltersenum=[];for(let l of o)switch(l){case"Info":t.selectedfiltersenum.push(_.f.Info);break;case"Data":t.selectedfiltersenum.push(_.f.DataSent,_.f.DataReceived);break;case"RemoteCommand":t.selectedfiltersenum.push(_.f.RemoteCommand)}setTimeout(()=>{t.content.scrollToBottom(0)},20)})()}onSendCountInput(n){let o=n.detail.value.replace(/[^0-9]+/g,"");this.sendcountinput.value=o}onSendCountChange(n){let t=+n.detail.value;this.sendcountinput.value=this.sendCount=t<=1?1:t}onTXIntervalInput(n){let o=n.detail.value.replace(/[^0-9]+/g,"");this.txintervalinput.value=o}onTXIntervalChange(n){let t=+n.detail.value;this.txintervalinput.value=this.txInterval=t<=50?50:t}onPayloadInput(n){let t=n.detail.value;var o=t;switch(g[this.selectedencoding]){default:case g.ASCII:o=function U(i){return i.replace(/[^\x20-\x7E]/g,"")}(t);break;case g.HEX:o=(0,x.xx)(t)}this.payloadinput.value=o,this.payloadCounter()}payloadCounter(){switch(g[this.selectedencoding]){default:case g.ASCII:this.payloadCount=this.payloadinput.value.length;break;case g.HEX:this.payloadCount=Math.floor(this.payloadinput.value.replace(/ /g,"").length/2)}}getmsgclass(n){switch(n.getType()){case _.f.Info:return"infomsg";case _.f.DataSent:return"datasentmsg";case _.f.DataReceived:return"datareceivedmsg";case _.f.RemoteCommand:return"remotecommandmsg";default:return""}}selectencodingclicked(){var n=this;return(0,c.Z)(function*(){const t=yield n.modalCtrl.create({component:M,componentProps:{selectedencoding:n.selectedencoding}});t.cssClass="auto-height",t.animated=!1,t.present();const{data:o,role:l}=yield t.onWillDismiss();"confirm"===l&&(n.payload=void 0,n.selectedencoding=g[o])})()}configgpioclicked(){var n=this;return(0,c.Z)(function*(){const t=yield n.modalCtrl.create({component:K,componentProps:{id:n.id}});t.cssClass="auto-height",t.animated=!1,t.backdropDismiss=!1,t.present(),yield t.onWillDismiss()})()}rwgpioclicked(){var n=this;return(0,c.Z)(function*(){const t=yield n.modalCtrl.create({component:$,componentProps:{id:n.id}});t.cssClass="auto-height",t.animated=!1,t.backdropDismiss=!1,t.present(),yield t.onWillDismiss()})()}readrssi(){var n=this;return(0,c.Z)(function*(){yield n.ble.readrssi(n.id)})()}readmtu(){var n=this;return(0,c.Z)(function*(){yield n.ble.readmtu(n.id)})()}requestconnectionpriority(n){var t=this;return(0,c.Z)(function*(){yield t.ble.requestpriority(t.id,O.W6[n])})()}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(b.gz),e.Y36(T.t4),e.Y36(b.F0),e.Y36(Z.xH),e.Y36(e.R0b),e.Y36(T.IN),e.Y36(T.yF),e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-terminal"]],viewQuery:function(n,t){if(1&n&&(e.Gf(X,5),e.Gf(ee,5),e.Gf(ne,5),e.Gf(te,5),e.Gf(ie,5),e.Gf(oe,5),e.Gf(le,5),e.Gf(ae,5)),2&n){let o;e.iGM(o=e.CRH())&&(t.terminalpopover=o.first),e.iGM(o=e.CRH())&&(t.devicepopover=o.first),e.iGM(o=e.CRH())&&(t.requestconnectionpopover=o.first),e.iGM(o=e.CRH())&&(t.content=o.first),e.iGM(o=e.CRH())&&(t.filterselect=o.first),e.iGM(o=e.CRH())&&(t.payloadinput=o.first),e.iGM(o=e.CRH())&&(t.sendcountinput=o.first),e.iGM(o=e.CRH())&&(t.txintervalinput=o.first)}},decls:20,vars:10,consts:[[3,"translucent"],["color","primary"],["slot","end",4,"ngIf"],[4,"ngIf"],["ioncontent",""],["class","container",4,"ngIf"],["showBackdrop","false","dismissOnSelect","true",1,"terminalpopover",3,"isOpen","didDismiss"],["terminalpopover",""],["showBackdrop","false","dismissOnSelect","true",1,"devicepopover",3,"isOpen","didDismiss"],["devicepopover",""],["showBackdrop","false",1,"connectionprioritypopover",3,"dismissOnSelect","isOpen","didDismiss"],["requestconnectionpopover",""],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],["slot","icon-only","name","ellipsis-vertical"],[3,"scrollable","ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[1,"ion-align-items-center"],["interface","popover",1,"msgfilter",3,"multiple","ngModel","ngModelChange","ionChange"],["filterselect",""],["value","Info"],["value","Data"],["value","RemoteCommand",4,"ngIf"],["size","auto",4,"ngIf"],[3,"value","click"],[1,"deviceSegmentLabel"],["value","RemoteCommand"],["size","auto"],["fill","clear",3,"click"],["color","dark","slot","icon-only","name","ellipsis-vertical"],[1,"container"],[1,"nodeviceconnected"],[4,"ngFor","ngForOf"],["size","auto",2,"font-weight","bold"],[3,"ngClass"],[1,"ion-no-padding"],[3,"ngSwitch",4,"ngIf"],["class","hexdata",4,"ngIf"],[3,"ngSwitch"],["class","hexdata",4,"ngSwitchCase"],["class","asciidata",4,"ngSwitchCase"],[1,"hexdata"],[1,"asciidata"],[1,"ion-text-right"],["enterkeyhint","send",1,"ion-text-left",3,"value","placeholder","ionInput","keyup.enter","ionChange"],["payloadinput",""],["size","12","size-sm","auto",4,"ngIf"],["size","12","size-sm","auto"],[1,"sendbutton",3,"disabled","click"],["inputmode","numeric",3,"value","label","ionInput","ionChange"],["sendcountinput",""],["placeholder","ms","inputmode","numeric",3,"value","label","ionInput","ionChange"],["txintervalinput",""],[3,"button","click"],[1,"ion-no-margin"],[1,"ion-no-margin","ion-text-wrap"],[1,"ion-margin-start",3,"ngModel","ngModelChange"],["lines","none"],[3,"button","click",4,"ngIf"],["text-wrap","",1,"ion-no-margin"],["lines","none",3,"button","click"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e.YNc(2,re,5,0,"ion-buttons",2),e.TgZ(3,"ion-title"),e._uU(4," Terminal "),e.qZA()(),e.YNc(5,ge,17,15,"ng-container",3),e.qZA(),e.TgZ(6,"ion-content",null,4),e.YNc(8,ue,4,3,"div",5),e.YNc(9,Ce,3,2,"ng-container",3),e.qZA(),e.YNc(10,xe,15,11,"ion-footer",3),e.TgZ(11,"ion-popover",6,7),e.NdJ("didDismiss",function(){return t.terminalpopoveropen=!1}),e.YNc(13,Ze,16,12,"ng-template"),e.qZA(),e.TgZ(14,"ion-popover",8,9),e.NdJ("didDismiss",function(){return t.devicepopoveropen=!1}),e.YNc(16,Ge,7,5,"ng-template"),e.qZA(),e.TgZ(17,"ion-popover",10,11),e.NdJ("didDismiss",function(){return t.connectionprioritypopoveropen=!1}),e.YNc(19,Ae,14,12,"ng-template"),e.qZA()),2&n&&(e.Q6J("translucent",!1),e.xp6(2),e.Q6J("ngIf",0!=t.ble.connectedDevices.size&&null!=t.id&&null!=t.ble.connectedDevices.get(t.id)),e.xp6(3),e.Q6J("ngIf",0!=t.ble.connectedDevices.size&&null!=t.id&&null!=t.ble.connectedDevices.get(t.id)),e.xp6(3),e.Q6J("ngIf",0==t.ble.connectedDevices.size||null==t.id||null==t.ble.connectedDevices.get(t.id)),e.xp6(1),e.Q6J("ngIf",0!=t.ble.connectedDevices.size&&null!=t.id&&null!=t.ble.connectedDevices.get(t.id)),e.xp6(1),e.Q6J("ngIf",0!=t.ble.connectedDevices.size&&null!=t.id&&null!=t.ble.connectedDevices.get(t.id)),e.xp6(1),e.Q6J("isOpen",t.terminalpopoveropen),e.xp6(3),e.Q6J("isOpen",t.devicepopoveropen),e.xp6(3),e.Q6J("dismissOnSelect",!0)("isOpen",t.connectionprioritypopoveropen))},dependencies:[a.YG,a.Sm,a.nz,a.wI,a.W2,a.fr,a.jY,a.Gu,a.gu,a.pK,a.Ie,a.Ub,a.Q$,a.q_,a.Nd,a.cJ,a.GO,a.t9,a.n0,a.wd,a.sr,a.d8,a.w,a.QI,a.j9,p.mk,p.sg,p.O5,p.RF,p.n9,d.JJ,d.On,p.Nd,f.X$],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.nodeviceconnected[_ngcontent-%COMP%]{font-weight:700;margin:auto}ion-segment-button[_ngcontent-%COMP%]{text-transform:none;max-width:none!important}.datasentmsg[_ngcontent-%COMP%]{color:#db8a06}.datareceivedmsg[_ngcontent-%COMP%]{color:#bbb323}.infomsg[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.remotecommandmsg[_ngcontent-%COMP%]{color:#48a9c5}.msgfilter[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.terminalpopover[_ngcontent-%COMP%]{--width: 200px}.devicepopover[_ngcontent-%COMP%]{--width: 220px}.connectionprioritypopover[_ngcontent-%COMP%]{--width: 100px}.hexdata[_ngcontent-%COMP%]{font-family:monospace;font-size:16px}.asciidata[_ngcontent-%COMP%]{word-wrap:break-word;word-break:break-all}.sendbutton[_ngcontent-%COMP%]{width:100%}.deviceSegmentLabel[_ngcontent-%COMP%]{font-weight:600;font-size:16px}ion-select[_ngcontent-%COMP%]{--highlight-color: var(--ion-color-primary)}"]}),i})()}];let Me=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[b.Bz.forChild(ke),b.Bz]}),i})();function I(i){return new A.w(i,"./assets/i18n/",".json")}let qe=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[a.Pc,p.ez,d.u5,Me,f.aw.forChild({loader:{provide:f.Zw,useFactory:I,deps:[G.eN]}})]}),i})()}}]);